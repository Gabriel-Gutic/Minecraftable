{% extends "Minecraftable/base.html" %}
{% block title %}
    Profile
{% endblock title %}

{% block content %}
{% load static %}
<div class="container">
	<div class="main-body">
		<div class="row">
			<div class="col-lg-4">
				<div class="card">
					<div class="card-body">
						<div class="d-flex flex-column align-items-center text-center">
							{% csrf_token %}
							<div id="input-profile-picture-div">
							</div>
							<div class="mt-3">
								<h4>{{user.username}}</h4>
								<p class="text-secondary mb-1">Number of Datapacks: {{datapack_number}}</p>
								<p class="text-muted font-size-sm">Number of Recipes: {{recipe_number}}</p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-lg-8">
				<div class="card">
					<div class="card-body">
						<div class="row mb-3">
							<div class="col-sm-3">
								<h6 class="mb-0">Username</h6>
							</div>
							<div class="col-sm-9 text-secondary">
								{{user.username}}
							</div>
						</div>
                        <hr>
						<div class="row mb-3">
							<div class="col-sm-3">
								<h6 class="mb-0">Email</h6>
							</div>
							<div class="col-sm-9 text-secondary">
								{{user.email}}
								{% if not user.email_confirmed %}
									(not confirmed)
								{% endif %}
							</div>
						</div>
                        <hr>
						<div class="row">
                            <div class="col-sm-1"></div>
							<div class="col-sm-3 mt-2">
                                <input id="email-change-button" type="button" class="btn btn-primary px-4" value="Change Email">
                            </div>
							<div class="col-sm-3 mt-2 text-secondary">
								<input id="password-change-button" type="button" class="btn btn-primary px-4" value="Change Password">
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

    <!--Modal-->
    <div id="email-send-modal" class="modal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
            	<div class="modal-header">
            	    <h5 class="modal-title">Modal title</h5>
            	    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            	</div>
            	<div class="modal-body">
            	    <p>A reset email has been sent to your email address.</p>
            	</div>
            	<div class="modal-footer">
            	    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Ok</button>
            	</div>
            </div>
        </div>
    </div>
</div>
{% endblock content %}

{% block scripts %}
{% load static %}
<script type="text/javascript">
    let media_url = "{% get_media_prefix %}";
	let user_image = "{{user.image}}";
</script>
<script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.0/dist/js.cookie.min.js"></script>
<script type="text/javascript" src="{% static 'js/input-picture/input-picture.js' %}"></script>
<script type="text/javascript" src="{% static 'js/profile.js' %}"></script>
{% endblock scripts %}